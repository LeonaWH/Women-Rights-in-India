<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  </head>
  <body>
    <div id="plot"></div>
 
    <script>
      // read the data from the CSV file
      Plotly.d3.csv(
        "data.csv",
        function (data) {
          // extract the x and y data
          const x = data.map((row) => row.Economy);
          const y = data.map((row) => row["Does the legislation establish clear criminal penalties for domestic violence?"]);

          // create the plot
          const trace = {
            x: x,
            y: y,
            type: "bar",
            marker: {
              color: y.map(val => val === "Yes" ? "green" : "red") // color green for "Yes" and red for "No"
            }
          };
          const layout = {
            title: "Clear Criminal Penalties for Domestic Violence by Economy",
            xaxis: {
              title: "Economy",
            },
            yaxis: {
              title: "Response",
              tickvals: ["Yes", "No"],
              ticktext: ["Yes", "No"]
            },
          };
          const config = {
            responsive: true,
          };
          Plotly.newPlot("plot", [trace], layout, config);
        }
      );
    </script>
  </body>
</html>
